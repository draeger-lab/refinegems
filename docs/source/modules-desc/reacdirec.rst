Check and refine the direction of reactions
===========================================

Most databases (e.g. KEGG) that are used to generate and curate metabolic models automatically, do not save 
the directionality of reactions. This can become a problem in downstream analyses as the direction of 
reactions is important for the correctness of the model. Since the direction of a reactionis often missing from databases, 
the default is to set the reaction to reversible. However, in the worst case, wrongly set reactions directions 
can be the cause of energy generating cycles (EGCs), which are thermodynamically infeasible. 

One of the few databases to reliably store information about a large number of reaction is `MetaCyc<https://metacyc.org>`_ / `BioCyc <https://biocyc.org>`_ .
The :py:func:`~refinegems.curation.curate.check_direction` function enables the user to check the 
directions of reactions in a metabolic model against a given either species-specific BioCyc or general MetaCyc database 
table containing the information about direction of reactions. 

The table should contain all reactions (of interest) and it **MUST** contain the following columns:
- `Reactions`: contains the MetaCyc ID
- `EC-number`: contains the EC number associated with the reactions (EC-X.X.X.X) or nan
- `KEGG Reaction`: contains the href link to the associated KEGG reaction or nan
- `METANETX`: contains the href link to the associated MetaNetX reaction or nan
- `Reaction-Direction`: contains a string describing the directionality of the reaction

Example of the table (start of the downloaded file):

.. code-block:: text

    Reactions	EC-Number	KEGG reaction	METANETX	Reaction-Direction
    RXN-22670	EC-6.3.2			PHYSIOL-LEFT-TO-RIGHT
    RXN-9464	EC-3.3.2.8		<a href='https://www.metanetx.org/equa_info/~A'>MNXR122834</a>	PHYSIOL-LEFT-TO-RIGHT

..  note::

    The requested format is automatically generated by BioCyc by choosing all reactions for a smart table
    and adding the properties described above as columns and finally exporting it as a `txt`-file.

